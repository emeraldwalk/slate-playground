(this["webpackJsonp@slate-playground/0.47x"]=this["webpackJsonp@slate-playground/0.47x"]||[]).push([[0],{191:function(e,t,o){"use strict";o.r(t);var n=o(1),r=o.n(n),a=o(31),c=o.n(a),m=(o(85),o(86),o(20)),l=o(10),d=o(78),i=o(0);function u(e,t){var o=Object(n.useCallback)((function(e){return""===t||e.toLowerCase().indexOf(t.toLowerCase())>-1}),[t]);return Object(n.useMemo)((function(){return e.filter(o)}),[e,o])}var v=o(32),s=o(15),f=function(e){return{undo:[],insertBlock:["div"],insertInline:["span"],insertText:["hello"],moveAnchorBackward:[1],moveAnchorForward:[1],moveAnchorTo:[""],moveAnchorToEndOfBlock:[],moveAnchorToEndOfDocument:[],moveAnchorToEndOfInline:[],moveAnchorToEndOfNextBlock:[],moveAnchorToEndOfNextInline:[],moveAnchorToEndOfNextText:[],moveAnchorToEndOfNode:[e],moveAnchorToEndOfPreviousBlock:[],moveAnchorToEndOfPreviousInline:[],moveAnchorToEndOfPreviousText:[],moveAnchorToEndOfText:[],moveAnchorToStartOfBlock:[],moveAnchorToStartOfDocument:[],moveAnchorToStartOfInline:[],moveAnchorToStartOfNextBlock:[],moveAnchorToStartOfNextInline:[],moveAnchorToStartOfNextText:[],moveAnchorToStartOfNode:[e],moveAnchorToStartOfPreviousBlock:[],moveAnchorToStartOfPreviousInline:[],moveAnchorToStartOfPreviousText:[],moveAnchorToStartOfText:[],moveAnchorWordBackward:[],moveAnchorWordForward:[],moveBackward:[1],moveEndBackward:[1],moveEndForward:[1],moveEndTo:["",0],moveEndToEndOfBlock:[],moveEndToEndOfDocument:[],moveEndToEndOfInline:[],moveEndToEndOfNextBlock:[],moveEndToEndOfNextInline:[],moveEndToEndOfNextText:[],moveEndToEndOfNode:[e],moveEndToEndOfPreviousBlock:[],moveEndToEndOfPreviousInline:[],moveEndToEndOfPreviousText:[],moveEndToEndOfText:[],moveEndToStartOfBlock:[],moveEndToStartOfDocument:[],moveEndToStartOfInline:[],moveEndToStartOfNextBlock:[],moveEndToStartOfNextInline:[],moveEndToStartOfNextText:[],moveEndToStartOfNode:[e],moveEndToStartOfPreviousBlock:[],moveEndToStartOfPreviousInline:[],moveEndToStartOfPreviousText:[],moveEndToStartOfText:[],moveEndWordBackward:[],moveEndWordForward:[],moveFocusBackward:[1],moveFocusForward:[1],moveFocusTo:["",0],moveFocusToEndOfBlock:[],moveFocusToEndOfDocument:[],moveFocusToEndOfInline:[],moveFocusToEndOfNextBlock:[],moveFocusToEndOfNextInline:[],moveFocusToEndOfNextText:[],moveFocusToEndOfNode:[e],moveFocusToEndOfPreviousBlock:[],moveFocusToEndOfPreviousInline:[],moveFocusToEndOfPreviousText:[],moveFocusToEndOfText:[],moveFocusToStartOfBlock:[],moveFocusToStartOfDocument:[],moveFocusToStartOfInline:[],moveFocusToStartOfNextBlock:[],moveFocusToStartOfNextInline:[],moveFocusToStartOfNextText:[],moveFocusToStartOfNode:[e],moveFocusToStartOfPreviousBlock:[],moveFocusToStartOfPreviousInline:[],moveFocusToStartOfPreviousText:[],moveFocusToStartOfText:[],moveFocusWordBackward:[],moveFocusWordForward:[],moveForward:[1],moveNodeByKey:["","",0],moveNodeByPath:[Object(i.List)([0,0]),Object(i.List)([0,0]),0],moveStartBackward:[1],moveStartForward:[1],moveStartTo:[e.key,0],moveStartToEndOfBlock:[],moveStartToEndOfDocument:[],moveStartToEndOfInline:[],moveStartToEndOfNextBlock:[],moveStartToEndOfNextInline:[],moveStartToEndOfNextText:[],moveStartToEndOfNode:[e],moveStartToEndOfPreviousBlock:[],moveStartToEndOfPreviousInline:[],moveStartToEndOfPreviousText:[],moveStartToEndOfText:[],moveStartToStartOfBlock:[],moveStartToStartOfDocument:[],moveStartToStartOfInline:[],moveStartToStartOfNextBlock:[],moveStartToStartOfNextInline:[],moveStartToStartOfNextText:[],moveStartToStartOfNode:[e],moveStartToStartOfPreviousBlock:[],moveStartToStartOfPreviousInline:[],moveStartToStartOfPreviousText:[],moveStartToStartOfText:[],moveStartWordBackward:[],moveStartWordForward:[],moveTo:[""],moveToAnchor:[],moveToEnd:[],moveToEndOfBlock:[],moveToEndOfDocument:[],moveToEndOfInline:[],moveToEndOfNextBlock:[],moveToEndOfNextInline:[],moveToEndOfNextText:[],moveToEndOfNode:[e],moveToEndOfPreviousBlock:[],moveToEndOfPreviousInline:[],moveToEndOfPreviousText:[],moveToEndOfText:[],moveToFocus:[],moveToRangeOfDocument:[],moveToRangeOfNode:[e],moveToStart:[],moveToStartOfBlock:[],moveToStartOfDocument:[],moveToStartOfInline:[],moveToStartOfNextBlock:[],moveToStartOfNextInline:[],moveToStartOfNextText:[],moveToStartOfNode:[e],moveToStartOfPreviousBlock:[],moveToStartOfPreviousInline:[],moveToStartOfPreviousText:[],moveToStartOfText:[],moveWordBackward:[],moveWordForward:[],splitBlock:[1]}};function T(e,t){return Object(s.a)({},e,Object(v.a)({},t.type,t.payload))}var O=o(52),E=o.n(O),S=E.a.mark(N);function x(e){var t=[];for(var o=[[0,e]],n=function(){var e=o.shift(),n=Object(l.a)(e,2),r=n[0],a=n[1];if(t.push(function(e,t){for(var o="",n=0;n<e;++n)o+="  ";if("document"===t.object)return"".concat(o,"document");if("block"===t.object||"inline"===t.object)return"".concat(o).concat(t.object,":").concat(t.type);if("text"===t.object)return"".concat(o,"text:'").concat(t.text,"'");throw Error("Invalid node")}(r,a)),"text"===a.object)return"continue";o.unshift.apply(o,Object(m.a)(a.nodes.toArray().map((function(e){return[r+1,e]}))))};o.length>0;)n();return t}function k(e,t,o){if("text"===e.object)return{key:e.key,path:o,isSelected:t.indexOf(e.key)>-1,object:e.object,text:e.text,_slateNode:e};var n=e.nodes.toArray().map((function(e,n){return k(e,t,[].concat(Object(m.a)(o),[n]))}));return Object(s.a)({key:e.key,path:o},e.toJSON(),{isSelected:n.every((function(e){return e.isSelected})),nodes:n,_slateNode:e})}function N(e){var t,o,n;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=[e.document],o=!1;case 2:if(!(t.length>0)){r.next=15;break}if((n=t.shift()).key===e.selection.start.key&&(o=!0),"text"===n.object){r.next=9;break}t.unshift.apply(t,Object(m.a)(n.nodes.toArray())),r.next=12;break;case 9:if(!o){r.next=12;break}return r.next=12,n;case 12:n.key===e.selection.end.key&&(o=!1),r.next=2;break;case 15:case"end":return r.stop()}}),S)}var h=o(3).n.fromJS({document:{nodes:[{nodes:[{nodes:[{object:"text",text:"Block A1"}],object:"block",type:"paragraph"},{nodes:[{object:"text",text:"Block A2"}],object:"block",type:"paragraph"}],object:"block",type:"div"},{nodes:[{object:"text",text:"Block B"}],object:"block",type:"paragraph"},{nodes:[{object:"text",text:"Block C"}],object:"block",type:"paragraph"}]}});function p(e,t){for(var o=arguments.length,n=new Array(o>2?o-2:0),r=2;r<o;r++)n[r-2]=arguments[r];return function(){(null===e||void 0===e?void 0:e[t]).apply(void 0,n),null===e||void 0===e||e.focus()}}var b=function(){var e=Object(n.useRef)(null),t=function(){var e=Object(n.useState)(h),t=Object(l.a)(e,2),o=t[0],r=t[1];return{initialValue:h,setValue:r,value:o}}(),o=t.initialValue,a=t.setValue,c=t.value,v=Object(n.useState)(""),s=Object(l.a)(v,2),O=s[0],E=s[1],S=function(e){return Object(n.useMemo)((function(){var t=Array.from(N(e)),o=t.map((function(e){return e.key}));return{documentNode:k(e.document,o,[]),selectedNodes:t}}),[e])}(c),b=S.documentNode,j=S.selectedNodes,B=function(e,t){var o=Object(n.useReducer)(T,f(t)),r=Object(l.a)(o,2),a=r[0],c=r[1],m=Object(n.useReducer)(T,a),d=Object(l.a)(m,2),i=d[0],u=d[1],v=Object(n.useState)([]),s=Object(l.a)(v,2),O=s[0],E=s[1],S=Object(n.useMemo)((function(){return Object.keys(a)}),[a]);return Object(n.useEffect)((function(){if(e){var t=Object.keys(e).filter((function(t){return"function"===typeof e[t]&&!(t in a)}));t.sort(),E(t)}}),[e,a]),{additionalMethodNames:O,dispatch:c,dispatchPending:u,methodNames:S,methodState:a,pendingMethodState:i}}(e.current,j[0]||c.document.getFirstText()),A=B.additionalMethodNames,w=B.dispatch,P=B.dispatchPending,g=B.methodNames,I=B.methodState,_=B.pendingMethodState,D=u(A,O),W=u(g,O),C=Object(n.useCallback)((function(t){e.current.moveAnchorToStartOfNode(t),e.current.moveFocusToEndOfNode(t),e.current.focus()}),[]);return Object(n.useEffect)((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),[]),r.a.createElement("div",{className:"c_app"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"main"},r.a.createElement("h1",null,"SlateJS Playground"),r.a.createElement("div",{className:"row"},r.a.createElement(d.a,{className:"c_editor",onChange:function(e){var t=e.value;a(t)},ref:e,value:c}),r.a.createElement("button",{onClick:function(){a(o)}},"Reset")),r.a.createElement("div",{className:"data row"},r.a.createElement("div",{className:"c_summary"},r.a.createElement("h2",null,"Summary"),x(c.document).map((function(e,t){return r.a.createElement("pre",{key:"".concat(t,"_").concat(e)},e)}))),r.a.createElement(y,{onSelect:C,node:b}),r.a.createElement(F,{selection:c.selection}))),r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"c_controls"},r.a.createElement("h2",null,"Editor Methods"),r.a.createElement("input",{className:"c_filter",onChange:function(e){var t=e.currentTarget;return E(t.value)},placeholder:"Filter...",value:O}),r.a.createElement("div",{className:"scroll"},W.map((function(t){var o=_[t],n=I[t];return r.a.createElement("div",{className:"c_control",key:t},o.map((function(e,a){e instanceof i.List&&(e=e.toArray().join(","));var c=typeof n[a];return"object"===c&&n[a]instanceof i.List&&(c="List"),"string"===typeof e||"number"===typeof e?r.a.createElement("input",{key:a,onBlur:function(){var e=o.slice();if("number"===typeof n[a]&&isNaN(e[a]))e[a]=n[a];else if(n[a]instanceof i.List){var r=String(o[a]).split(",").map((function(e){return Number(e.trim())}));r.some(isNaN)?e[a]=n[a]:e[a]=Object(i.List)(r)}var c={type:t,payload:e};P(c),w(c)},onChange:function(e){var n=e.currentTarget,r=o.slice();r[a]=n.value,P({type:t,payload:r})},title:c,value:e}):null})),r.a.createElement("button",{onClick:p.apply(void 0,[e.current,t].concat(Object(m.a)(o)))},t,"(",n.map((function(e){return"string"===typeof e?"'".concat(e,"'"):"number"===typeof e?e:e instanceof i.List?"List([".concat(e.toArray(),"])"):"object"===typeof e?"[selected node]":String(e)})).join(", "),")"))})),r.a.createElement("h2",null,"TODO: Additional Methods"),r.a.createElement("ul",{className:"c_additional-methods"},D.map((function(e){return r.a.createElement("li",{key:e},e)}))))))),r.a.createElement("footer",{className:"footer"},r.a.createElement("span",null,"slate v0.47.9 slate-react v0.22.10")))},y=function(e){var t=e.node,o=e.onSelect;return r.a.createElement("div",{className:"c_document"},r.a.createElement("h2",null,"Document"),r.a.createElement("div",{className:"scroll"},r.a.createElement(B,{onSelect:o,node:t})))},j=o(79),B=function e(t){var o=t.node,n=t.onSelect,a=(o._slateNode,o.isSelected,o.nodes),c=void 0===a?[]:a,m=Object(j.a)(o,["_slateNode","isSelected","nodes"]),l=JSON.stringify(m,void 0,2);return r.a.createElement("pre",{className:"c_node".concat(o.isSelected?" selected":""),onClick:function(e){e.stopPropagation(),n(o._slateNode)}},"text"===o.object?l.replace(/}$/,"},"):l.replace(/\n}$/,',\n  "nodes": ['),r.a.createElement("pre",{className:"c_node-list"},c.map((function(t){return r.a.createElement(r.a.Fragment,{key:t.key},r.a.createElement(e,{onSelect:n,node:t}))}))),"text"!==o.object&&"  ]\n}")},F=function(e){var t=e.selection,o=t.toJS();return o.anchor=Object(s.a)({key:t.anchor.key},o.anchor),o.focus=Object(s.a)({key:t.focus.key},o.focus),r.a.createElement("div",{className:"c_selection"},r.a.createElement("h2",null,"Selection"),r.a.createElement("pre",null,JSON.stringify(o,void 0,2)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},80:function(e,t,o){e.exports=o(191)},86:function(e,t,o){}},[[80,1,2]]]);
//# sourceMappingURL=main.bc871290.chunk.js.map
{"version":3,"sources":["data/filter.ts","data/methods.ts","data/utils.ts","data/value.ts","components/App.tsx","data/node.ts","components/Document.tsx","components/Node.tsx","components/Selection.tsx","serviceWorker.ts","index.tsx"],"names":["useFilter","data","filterBy","filter","useCallback","method","toLowerCase","indexOf","useMemo","initialState","node","moveToStartOfDocument","moveToEndOfDocument","moveAnchorForward","moveFocusForward","moveStartForward","moveEndForward","moveStartToStartOfDocument","moveStartToEndOfDocument","moveEndToStartOfDocument","moveEndToEndOfDocument","moveAnchorToStartOfDocument","moveAnchorToEndOfDocument","moveFocusToStartOfDocument","moveFocusToEndOfDocument","moveToStartOfNextBlock","moveToEndOfNextBlock","splitBlock","insertText","moveToStartOfBlock","moveAnchorBackward","moveAnchorTo","moveAnchorToEndOfBlock","moveAnchorToEndOfInline","moveAnchorToEndOfNextBlock","moveAnchorToEndOfNextInline","moveAnchorToEndOfNextText","moveAnchorToEndOfNode","moveAnchorToEndOfPreviousBlock","moveAnchorToEndOfPreviousInline","moveAnchorToEndOfPreviousText","moveAnchorToEndOfText","moveAnchorToStartOfBlock","moveAnchorToStartOfInline","moveAnchorToStartOfNextBlock","moveAnchorToStartOfNextInline","moveAnchorToStartOfNextText","moveAnchorToStartOfNode","moveAnchorToStartOfPreviousBlock","moveAnchorToStartOfPreviousInline","moveAnchorToStartOfPreviousText","moveAnchorToStartOfText","moveAnchorWordBackward","moveAnchorWordForward","moveBackward","moveEndBackward","moveEndTo","moveEndToEndOfBlock","moveEndToEndOfInline","moveEndToEndOfNextBlock","moveEndToEndOfNextInline","moveEndToEndOfNextText","moveEndToEndOfNode","moveEndToEndOfPreviousBlock","moveEndToEndOfPreviousInline","moveEndToEndOfPreviousText","moveEndToEndOfText","moveEndToStartOfBlock","moveEndToStartOfInline","moveEndToStartOfNextBlock","moveEndToStartOfNextInline","moveEndToStartOfNextText","moveEndToStartOfNode","moveEndToStartOfPreviousBlock","moveEndToStartOfPreviousInline","moveEndToStartOfPreviousText","moveEndToStartOfText","moveEndWordBackward","moveEndWordForward","moveFocusBackward","moveFocusTo","moveFocusToEndOfBlock","moveFocusToEndOfInline","moveFocusToEndOfNextBlock","moveFocusToEndOfNextInline","moveFocusToEndOfNextText","moveFocusToEndOfNode","moveFocusToEndOfPreviousBlock","moveFocusToEndOfPreviousInline","moveFocusToEndOfPreviousText","moveFocusToEndOfText","moveFocusToStartOfBlock","moveFocusToStartOfInline","moveFocusToStartOfNextBlock","moveFocusToStartOfNextInline","moveFocusToStartOfNextText","moveFocusToStartOfNode","moveFocusToStartOfPreviousBlock","moveFocusToStartOfPreviousInline","moveFocusToStartOfPreviousText","moveFocusToStartOfText","moveFocusWordBackward","moveFocusWordForward","moveForward","moveNodeByKey","moveStartBackward","moveStartTo","key","moveStartToEndOfBlock","moveStartToEndOfInline","moveStartToEndOfNextBlock","moveStartToEndOfNextInline","moveStartToEndOfNextText","moveStartToEndOfNode","moveStartToEndOfPreviousBlock","moveStartToEndOfPreviousInline","moveStartToEndOfPreviousText","moveStartToEndOfText","moveStartToStartOfBlock","moveStartToStartOfInline","moveStartToStartOfNextBlock","moveStartToStartOfNextInline","moveStartToStartOfNextText","moveStartToStartOfNode","moveStartToStartOfPreviousBlock","moveStartToStartOfPreviousInline","moveStartToStartOfPreviousText","moveStartToStartOfText","moveStartWordBackward","moveStartWordForward","moveTo","moveToAnchor","moveToEnd","moveToEndOfBlock","moveToEndOfInline","moveToEndOfNextInline","moveToEndOfNextText","moveToEndOfNode","moveToEndOfPreviousBlock","moveToEndOfPreviousInline","moveToEndOfPreviousText","moveToEndOfText","moveToFocus","moveToRangeOfDocument","moveToRangeOfNode","moveToStart","moveToStartOfInline","moveToStartOfNextInline","moveToStartOfNextText","moveToStartOfNode","moveToStartOfPreviousBlock","moveToStartOfPreviousInline","moveToStartOfPreviousText","moveToStartOfText","moveWordBackward","moveWordForward","reducer","state","action","type","payload","selectedTextNodes","nodeTree","selectedKeys","path","object","isSelected","_slateNode","childNodes","nodes","toArray","map","child","i","toJSON","every","value","stack","document","isInSelection","length","shift","selection","start","unshift","end","initialValue","Value","fromJS","text","onClick","editor","args","console","log","focus","App","editorRef","useRef","useState","setValue","useValue","setFilterBy","selectedNodes","Array","from","selectedTextKeys","n","documentNode","useDocument","useReducer","methodState","dispatch","additionalMethodNames","setAdditionalMethodNames","methodNames","Object","keys","useEffect","notInMethodNames","sort","useMethodState","current","filteredAdditionalMethodNames","filteredMethodNames","onSelect","className","onChange","ref","currentTarget","placeholder","arg","List","join","slice","argValue","isNaN","Number","a","String","stringifyArgs","Document","Node","rest","nodeStr","JSON","stringify","undefined","event","stopPropagation","replace","Fragment","Selection","selectionJson","toJS","anchor","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"mOAEO,SAASA,EAGdC,EACAC,GAEA,IAAMC,EAASC,uBAAY,SAACC,GAC1B,MAAoB,KAAbH,GAAmBG,EAAOC,cAAcC,QAAQL,EAASI,gBAAkB,IACjF,CAACJ,IAEJ,OAAOM,mBACL,kBAAMP,EAAKE,OAAOA,KAClB,CAACF,EAAME,I,oBCMLM,EAAe,SACnBC,GADmB,MAEC,CACpBC,sBAAuB,GACvBC,oBAAqB,GACrBC,kBAAmB,CAAC,GACpBC,iBAAkB,CAAC,GACnBC,iBAAkB,CAAC,GACnBC,eAAgB,CAAC,GAEjBC,2BAA4B,GAC5BC,yBAA0B,GAC1BC,yBAA0B,GAC1BC,uBAAwB,GAExBC,4BAA6B,GAC7BC,0BAA2B,GAC3BC,2BAA4B,GAC5BC,yBAA0B,GAE1BC,uBAAwB,GACxBC,qBAAsB,GACtBC,WAAY,CAAC,GACbC,WAAY,CAAC,IAEbC,mBAAoB,GACpBC,mBAAoB,CAAC,GACrBC,aAAc,CAAC,IACfC,uBAAwB,GACxBC,wBAAyB,GACzBC,2BAA4B,GAC5BC,4BAA6B,GAC7BC,0BAA2B,GAC3BC,sBAAuB,CAAC3B,GACxB4B,+BAAgC,GAChCC,gCAAiC,GACjCC,8BAA+B,GAC/BC,sBAAuB,GACvBC,yBAA0B,GAC1BC,0BAA2B,GAC3BC,6BAA8B,GAC9BC,8BAA+B,GAC/BC,4BAA6B,GAC7BC,wBAAyB,CAACrC,GAC1BsC,iCAAkC,GAClCC,kCAAmC,GACnCC,gCAAiC,GACjCC,wBAAyB,GACzBC,uBAAwB,GACxBC,sBAAuB,GACvBC,aAAc,CAAC,GACfC,gBAAiB,CAAC,GAClBC,UAAW,CAAC,GAAI,GAChBC,oBAAqB,GACrBC,qBAAsB,GACtBC,wBAAyB,GACzBC,yBAA0B,GAC1BC,uBAAwB,GACxBC,mBAAoB,CAACpD,GACrBqD,4BAA6B,GAC7BC,6BAA8B,GAC9BC,2BAA4B,GAC5BC,mBAAoB,GACpBC,sBAAuB,GACvBC,uBAAwB,GACxBC,0BAA2B,GAC3BC,2BAA4B,GAC5BC,yBAA0B,GAC1BC,qBAAsB,CAAC9D,GACvB+D,8BAA+B,GAC/BC,+BAAgC,GAChCC,6BAA8B,GAC9BC,qBAAsB,GACtBC,oBAAqB,GACrBC,mBAAoB,GACpBC,kBAAmB,CAAC,GACpBC,YAAa,CAAC,GAAI,GAClBC,sBAAuB,GACvBC,uBAAwB,GACxBC,0BAA2B,GAC3BC,2BAA4B,GAC5BC,yBAA0B,GAC1BC,qBAAsB,CAAC5E,GACvB6E,8BAA+B,GAC/BC,+BAAgC,GAChCC,6BAA8B,GAC9BC,qBAAsB,GACtBC,wBAAyB,GACzBC,yBAA0B,GAC1BC,4BAA6B,GAC7BC,6BAA8B,GAC9BC,2BAA4B,GAC5BC,uBAAwB,CAACtF,GACzBuF,gCAAiC,GACjCC,iCAAkC,GAClCC,+BAAgC,GAChCC,uBAAwB,GACxBC,sBAAuB,GACvBC,qBAAsB,GACtBC,YAAa,CAAC,GACdC,cAAe,CAAC,GAAI,GAAI,GAExBC,kBAAmB,CAAC,GACpBC,YAAa,CAAChG,EAAKiG,IAAK,GACxBC,sBAAuB,GACvBC,uBAAwB,GACxBC,0BAA2B,GAC3BC,2BAA4B,GAC5BC,yBAA0B,GAC1BC,qBAAsB,CAACvG,GACvBwG,8BAA+B,GAC/BC,+BAAgC,GAChCC,6BAA8B,GAC9BC,qBAAsB,GACtBC,wBAAyB,GACzBC,yBAA0B,GAC1BC,4BAA6B,GAC7BC,6BAA8B,GAC9BC,2BAA4B,GAC5BC,uBAAwB,CAACjH,GACzBkH,gCAAiC,GACjCC,iCAAkC,GAClCC,+BAAgC,GAChCC,uBAAwB,GACxBC,sBAAuB,GACvBC,qBAAsB,GACtBC,OAAQ,CAAC,IACTC,aAAc,GACdC,UAAW,GACXC,iBAAkB,GAClBC,kBAAmB,GACnBC,sBAAuB,GACvBC,oBAAqB,GACrBC,gBAAiB,CAAC/H,GAClBgI,yBAA0B,GAC1BC,0BAA2B,GAC3BC,wBAAyB,GACzBC,gBAAiB,GACjBC,YAAa,GACbC,sBAAuB,GACvBC,kBAAmB,CAACtI,GACpBuI,YAAa,GACbC,oBAAqB,GACrBC,wBAAyB,GACzBC,sBAAuB,GACvBC,kBAAmB,CAAC3I,GACpB4I,2BAA4B,GAC5BC,4BAA6B,GAC7BC,0BAA2B,GAC3BC,kBAAmB,GACnBC,iBAAkB,GAClBC,gBAAiB,KAKnB,SAASC,EACPC,EACAC,GAEA,OAAO,eACFD,EADL,eAEGC,EAAOC,KAAOD,EAAOE,U,gCCrITC,GAjCV,SAASC,EACdxJ,EACAyJ,EACAC,GAEA,GAAoB,SAAhB1J,EAAK2J,OACP,MAAO,CACL1D,IAAKjG,EAAKiG,IACVyD,OACAE,WAAYH,EAAa5J,QAAQG,EAAKiG,MAAQ,EAC9C0D,OAAQ3J,EAAK2J,OACbE,WAAY7J,GAIhB,IAAM8J,EAAa9J,EAAK+J,MAAMC,UAAUC,KACtC,SAACC,EAAOC,GAAR,OAAcX,EAASU,EAAOT,EAAR,sBAA0BC,GAA1B,CAAgCS,QAGxD,OAAO,aACLlE,IAAKjG,EAAKiG,IACVyD,QACG1J,EAAKoK,SAHV,CAIER,WAAYE,EAAWO,OAAM,SAAAP,GAAU,OAAIA,EAAWF,cACtDG,MAAOD,EACPD,WAAY7J,IAQT,SAAUuJ,EAAkBe,GAA5B,2EACCC,EAAqB,CAACD,EAAME,UAE9BC,GAAgB,EAHf,YAKEF,EAAMG,OAAS,GALjB,qBAMG1K,EAAOuK,EAAMI,SAEV1E,MAAQqE,EAAMM,UAAUC,MAAM5E,MACrCwE,GAAgB,GAGE,SAAhBzK,EAAK2J,OAZN,gBAaDY,EAAMO,QAAN,MAAAP,EAAK,YAAYvK,EAAK+J,MAAMC,YAb3B,2BAeMS,EAfN,iBAgBD,OAhBC,UAgBKzK,EAhBL,QAmBCA,EAAKiG,MAAQqE,EAAMM,UAAUG,IAAI9E,MACnCwE,GAAgB,GApBf,uD,IC9CDO,E,KAAsBC,EAAMC,OAAO,CACvCV,SAAU,CACRT,MAAO,CACL,CACEA,MAAO,CACL,CACEA,MAAO,CACL,CACEJ,OAAQ,OACRwB,KAAM,aAGVxB,OAAQ,QACRN,KAAM,aAER,CACEU,MAAO,CACL,CACEJ,OAAQ,OACRwB,KAAM,aAGVxB,OAAQ,QACRN,KAAM,cAGVM,OAAQ,QACRN,KAAM,OAER,CACEU,MAAO,CACL,CACEJ,OAAQ,OACRwB,KAAM,YAGVxB,OAAQ,QACRN,KAAM,aAER,CACEU,MAAO,CACL,CACEJ,OAAQ,OACRwB,KAAM,YAGVxB,OAAQ,QACRN,KAAM,iBCxCd,SAAS+B,EACPC,EACA1L,GAEC,IAAD,uBADG2L,EACH,iCADGA,EACH,kBACA,OAAO,WAAsB,IAAD,GAC1B,EAAAC,SAAQC,IAAR,QAAeF,IACf,OAACD,QAAD,IAACA,OAAD,EAACA,EAAS1L,IAAV,aAA6B2L,GACvB,OAAND,QAAM,IAANA,KAAQI,SAeZ,IAoIeC,EApIO,WACpB,IAAMC,EAAYC,iBAAe,MADP,EDuBrB,WAAqB,IAAD,EACCC,mBAASb,GADV,mBAClBV,EADkB,KACXwB,EADW,KAEzB,MAAO,CACLd,eACAc,WACAxB,SCzBwCyB,GAAlCf,EAHkB,EAGlBA,aAAcc,EAHI,EAGJA,SAAUxB,EAHN,EAGMA,MAHN,EAIMuB,mBAAS,IAJf,mBAInBrM,EAJmB,KAITwM,EAJS,OC7BrB,SACL1B,GAEA,OAAOxK,mBACL,WACE,IAAMmM,EAAgBC,MAAMC,KAAK5C,EAAkBe,IAC7C8B,EAAmBH,EAAchC,KAAI,SAAAoC,GAAC,OAAIA,EAAEpG,OAElD,MAAO,CACLqG,aAAc9C,EAASc,EAAME,SAAU4B,EAAkB,IACzDH,mBAGJ,CAAC3B,IDsBqCiC,CAAYjC,GAA5CgC,EANkB,EAMlBA,aAAcL,EANI,EAMJA,cANI,EHyJrB,SACLZ,EACArL,GACC,IAAD,EACgCwM,qBAAWtD,EAASnJ,EAAaC,IADjE,mBACOyM,EADP,KACoBC,EADpB,OAE0Db,mBAAmB,IAF7E,mBAEOc,EAFP,KAE8BC,EAF9B,KAIMC,EAAc/M,mBAClB,kBAAMgN,OAAOC,KAAKN,KAClB,CAACA,IAeH,OAZAO,qBAAU,WACR,GAAI3B,EAAQ,CACV,IAAM4B,EAAmBH,OACtBC,KAAK1B,GACL5L,QAAO,SAAAwG,GAAG,MAA2C,oBAAhCoF,EAAOpF,MAAyCA,KAAOwG,MAE/EQ,EAAiBC,OAEjBN,EAAyBK,MAE1B,CAAC5B,EAAQoB,IAEL,CACLE,wBACAD,WACAG,cACAJ,eGxKEU,CAAexB,EAAUyB,QAASnB,EAAc,IAJlDU,EATwB,EASxBA,sBACAD,EAVwB,EAUxBA,SACAG,EAXwB,EAWxBA,YACAJ,EAZwB,EAYxBA,YAGIY,EAAgC/N,EACpCqN,EACAnN,GAGI8N,EAAsBhO,EAC1BuN,EACArN,GAGI+N,EAAW7N,uBAAY,SAACM,GAC5B2L,EAAUyB,QAAS/K,wBAAwBrC,GAC3C2L,EAAUyB,QAASxI,qBAAqB5E,GAExC2L,EAAUyB,QAAS3B,UAClB,IAMH,OAJAuB,qBAAU,WAAO,IAAD,EACd,UAAArB,EAAUyB,eAAV,SAAmB3B,UAClB,IAGD,yBAAK+B,UAAU,SACb,0DAEA,yBAAKA,UAAU,OACb,kBAAC,IAAD,CACEA,UAAU,WACVC,SAAU,YAA+B,IAA5BnD,EAA2B,EAA3BA,MACXwB,EAASxB,IAEXoD,IAAK/B,EACLrB,MAAOA,IAET,4BAAQc,QAAS,WACfU,EAASd,KADX,UAKF,yBAAKwC,UAAU,OACb,kBAAC,EAAD,CACE5C,UAAWN,EAAMM,YAGnB,kBAAC,EAAD,CACE2C,SAAUA,EACVvN,KAAMsM,IAGR,yBAAKkB,UAAU,cACb,8CACA,2BACEA,UAAU,WACVC,SAAU,gBAAGE,EAAH,EAAGA,cAAH,OAAuB3B,EAAY2B,EAAcrD,QAC3DsD,YAAY,YACZtD,MAAO9K,IAET,yBAAKgO,UAAU,UAEXF,EAAoBrD,KAAI,SAAAhE,GACtB,IAAMqF,EAAOmB,EAAYxG,GAEzB,OACE,yBAAKuH,UAAU,YAAYvH,IAAKA,GAE3BqF,EAAmBrB,KAAI,SAAC4D,EAAK1D,GAK5B,OAJI0D,aAAeC,SACjBD,EAAOA,EAAY7D,UAAU+D,KAAK,MAGd,kBAARF,GAAmC,kBAARA,EACvC,2BACE5H,IAAKkE,EACLsD,SAAU,YAAwB,IAArBE,EAAoB,EAApBA,cACLrE,EAAUgC,EAAK0C,QAEfC,EAAiC,kBAAf3E,EAAQa,GAC5B+D,MAAMC,OAAOR,EAAcrD,QAAUhB,EAAQa,GAAKgE,OAAOR,EAAcrD,OACvEhB,EAAQa,aAAc2D,OAAOA,eAAK,CAAC,EAAG,EAAG,IAAMH,EAAcrD,MAEjEhB,EAAQa,GAAK8D,EAObvB,EALe,CACbrD,KAAMpD,EACNqD,aAKJgB,MAAOuD,IAEP,QAGR,4BACEzC,QAASA,EAAO,WAAP,GAAQO,EAAUyB,QAAUnH,GAA5B,mBAAmDqF,MAC5DrF,EAFF,IAxHpB,SAAuBqF,GACrB,OAAOA,EAAKrB,KACV,SAAAmE,GAAC,MACc,kBAANA,EAAP,WAA4BA,EAA5B,KACe,kBAANA,EAAiBA,EACxBA,aAAaN,OAAb,gBAA8BM,EAAUpE,UAAxC,MACa,kBAANoE,EAAiB,kBACxBC,OAAOD,MACXL,KAAK,MAkHmBO,CAAchD,GAFtB,SASR,wDACA,wBAAIkC,UAAU,wBAEVH,EACGpD,KAAI,SAAAtK,GAAM,OAAI,wBAAIsG,IAAKtG,GAASA,YEhIpC4O,EAjB2B,SAAC,GAGpC,IAFLvO,EAEI,EAFJA,KACAuN,EACI,EADJA,SAEA,OACE,yBAAKC,UAAU,cACb,wCACA,yBAAKA,UAAU,UACb,kBAAC,EAAD,CACED,SAAUA,EACVvN,KAAMA,O,QCiCDwO,EA5CmB,SAA5BA,EAA6B,GAG5B,IAFLxO,EAEI,EAFJA,KACAuN,EACI,EADJA,SACI,GAMAvN,EAJF6J,WAIE7J,EAHF4J,WAGE5J,EAFF+J,cAJE,MAIM,GAJN,EAKC0E,EALD,YAMAzO,EANA,qCAOE0O,EAAUC,KAAKC,UAAUH,OAAMI,EAAW,GAEhD,OACE,yBACErB,UAAS,gBAAWxN,EAAK4J,WAAa,YAAc,IACpDwB,QAAS,SAAA0D,GACPA,EAAMC,kBACNxB,EAASvN,EAAK6J,cAIE,SAAhB7J,EAAK2J,OACD+E,EAAQM,QAAQ,KAAM,MACtBN,EAAQM,QAAQ,OAAQ,mBAE9B,yBAAKxB,UAAU,eAEXzD,EAAME,KAAI,SAAAC,GAAK,OACb,kBAAC,IAAM+E,SAAP,CACEhJ,IAAKiE,EAAMjE,KAEX,kBAACuI,EAAD,CACEjB,SAAUA,EACVvN,KAAMkK,SAME,SAAhBlK,EAAK2J,QAAqB,WCdnBuF,EA3B6B,SAAC,GAEtC,IADLtE,EACI,EADJA,UAEMuE,EAAgBvE,EAAUwE,OAYhC,OAVAD,EAAcE,OAAd,aACEpJ,IAAK2E,EAAUyE,OAAOpJ,KACnBkJ,EAAcE,QAGnBF,EAAc1D,MAAd,aACExF,IAAK2E,EAAUa,MAAMxF,KAClBkJ,EAAc1D,OAIjB,yBAAK+B,UAAU,eACb,yCACA,6BAEImB,KAAKC,UAAUO,OAAeN,EAAW,MCf/BS,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCXNC,IAASC,OAAO,kBAAC,EAAD,MAASpF,SAASqF,eAAe,SDoI3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,iB","file":"static/js/main.6fbe511a.chunk.js","sourcesContent":["import { useCallback, useMemo } from 'react';\n\nexport function useFilter<\n  T extends string,\n>(\n  data: T[],\n  filterBy: string,\n) {\n  const filter = useCallback((method: string) => {\n    return filterBy === '' || method.toLowerCase().indexOf(filterBy.toLowerCase()) > -1;\n  }, [filterBy]);\n\n  return useMemo(\n    () => data.filter(filter),\n    [data, filter],\n  );\n}","import { useEffect, useMemo, useReducer, useState } from 'react';\nimport { Node } from 'slate';\nimport { Editor } from 'slate-react';\n// import { List } from 'immutable';\n\ntype MethodKey = { [P in keyof Required<Editor>]: Editor[P] extends Function ? P : never }[keyof Editor];\n\nexport type Action = {\n  [P in MethodKey]: {\n    type: P,\n    payload: State[P],\n  }\n}[MethodKey];\n\nexport type State = {\n  [P in MethodKey]: Editor[P] extends (...args: infer A) => any\n    ? A\n    : never\n};\n\nconst initialState = (\n  node: Node,\n): Partial<State> => ({\n  moveToStartOfDocument: [],\n  moveToEndOfDocument: [],\n  moveAnchorForward: [1],\n  moveFocusForward: [1],\n  moveStartForward: [1],\n  moveEndForward: [1],\n\n  moveStartToStartOfDocument: [],\n  moveStartToEndOfDocument: [],\n  moveEndToStartOfDocument: [],\n  moveEndToEndOfDocument: [],\n\n  moveAnchorToStartOfDocument: [],\n  moveAnchorToEndOfDocument: [],\n  moveFocusToStartOfDocument: [],\n  moveFocusToEndOfDocument: [],\n\n  moveToStartOfNextBlock: [],\n  moveToEndOfNextBlock: [],\n  splitBlock: [1],\n  insertText: [''],\n\n  moveToStartOfBlock: [],\n  moveAnchorBackward: [1],\n  moveAnchorTo: [''],\n  moveAnchorToEndOfBlock: [],\n  moveAnchorToEndOfInline: [],\n  moveAnchorToEndOfNextBlock: [],\n  moveAnchorToEndOfNextInline: [],\n  moveAnchorToEndOfNextText: [],\n  moveAnchorToEndOfNode: [node],\n  moveAnchorToEndOfPreviousBlock: [],\n  moveAnchorToEndOfPreviousInline: [],\n  moveAnchorToEndOfPreviousText: [],\n  moveAnchorToEndOfText: [],\n  moveAnchorToStartOfBlock: [],\n  moveAnchorToStartOfInline: [],\n  moveAnchorToStartOfNextBlock: [],\n  moveAnchorToStartOfNextInline: [],\n  moveAnchorToStartOfNextText: [],\n  moveAnchorToStartOfNode: [node],\n  moveAnchorToStartOfPreviousBlock: [],\n  moveAnchorToStartOfPreviousInline: [],\n  moveAnchorToStartOfPreviousText: [],\n  moveAnchorToStartOfText: [],\n  moveAnchorWordBackward: [],\n  moveAnchorWordForward: [],\n  moveBackward: [1],\n  moveEndBackward: [1],\n  moveEndTo: ['', 0],\n  moveEndToEndOfBlock: [],\n  moveEndToEndOfInline: [],\n  moveEndToEndOfNextBlock: [],\n  moveEndToEndOfNextInline: [],\n  moveEndToEndOfNextText: [],\n  moveEndToEndOfNode: [node],\n  moveEndToEndOfPreviousBlock: [],\n  moveEndToEndOfPreviousInline: [],\n  moveEndToEndOfPreviousText: [],\n  moveEndToEndOfText: [],\n  moveEndToStartOfBlock: [],\n  moveEndToStartOfInline: [],\n  moveEndToStartOfNextBlock: [],\n  moveEndToStartOfNextInline: [],\n  moveEndToStartOfNextText: [],\n  moveEndToStartOfNode: [node],\n  moveEndToStartOfPreviousBlock: [],\n  moveEndToStartOfPreviousInline: [],\n  moveEndToStartOfPreviousText: [],\n  moveEndToStartOfText: [],\n  moveEndWordBackward: [],\n  moveEndWordForward: [],\n  moveFocusBackward: [1],\n  moveFocusTo: ['', 0],\n  moveFocusToEndOfBlock: [],\n  moveFocusToEndOfInline: [],\n  moveFocusToEndOfNextBlock: [],\n  moveFocusToEndOfNextInline: [],\n  moveFocusToEndOfNextText: [],\n  moveFocusToEndOfNode: [node],\n  moveFocusToEndOfPreviousBlock: [],\n  moveFocusToEndOfPreviousInline: [],\n  moveFocusToEndOfPreviousText: [],\n  moveFocusToEndOfText: [],\n  moveFocusToStartOfBlock: [],\n  moveFocusToStartOfInline: [],\n  moveFocusToStartOfNextBlock: [],\n  moveFocusToStartOfNextInline: [],\n  moveFocusToStartOfNextText: [],\n  moveFocusToStartOfNode: [node],\n  moveFocusToStartOfPreviousBlock: [],\n  moveFocusToStartOfPreviousInline: [],\n  moveFocusToStartOfPreviousText: [],\n  moveFocusToStartOfText: [],\n  moveFocusWordBackward: [],\n  moveFocusWordForward: [],\n  moveForward: [1],\n  moveNodeByKey: ['', '', 0],\n  // moveNodeByPath: [List<number>([0, 0]), List<number>([0, 0]), 0],\n  moveStartBackward: [1],\n  moveStartTo: [node.key, 0],\n  moveStartToEndOfBlock: [],\n  moveStartToEndOfInline: [],\n  moveStartToEndOfNextBlock: [],\n  moveStartToEndOfNextInline: [],\n  moveStartToEndOfNextText: [],\n  moveStartToEndOfNode: [node],\n  moveStartToEndOfPreviousBlock: [],\n  moveStartToEndOfPreviousInline: [],\n  moveStartToEndOfPreviousText: [],\n  moveStartToEndOfText: [],\n  moveStartToStartOfBlock: [],\n  moveStartToStartOfInline: [],\n  moveStartToStartOfNextBlock: [],\n  moveStartToStartOfNextInline: [],\n  moveStartToStartOfNextText: [],\n  moveStartToStartOfNode: [node],\n  moveStartToStartOfPreviousBlock: [],\n  moveStartToStartOfPreviousInline: [],\n  moveStartToStartOfPreviousText: [],\n  moveStartToStartOfText: [],\n  moveStartWordBackward: [],\n  moveStartWordForward: [],\n  moveTo: [''],\n  moveToAnchor: [],\n  moveToEnd: [],\n  moveToEndOfBlock: [],\n  moveToEndOfInline: [],\n  moveToEndOfNextInline: [],\n  moveToEndOfNextText: [],\n  moveToEndOfNode: [node],\n  moveToEndOfPreviousBlock: [],\n  moveToEndOfPreviousInline: [],\n  moveToEndOfPreviousText: [],\n  moveToEndOfText: [],\n  moveToFocus: [],\n  moveToRangeOfDocument: [],\n  moveToRangeOfNode: [node],\n  moveToStart: [],\n  moveToStartOfInline: [],\n  moveToStartOfNextInline: [],\n  moveToStartOfNextText: [],\n  moveToStartOfNode: [node],\n  moveToStartOfPreviousBlock: [],\n  moveToStartOfPreviousInline: [],\n  moveToStartOfPreviousText: [],\n  moveToStartOfText: [],\n  moveWordBackward: [],\n  moveWordForward: [],\n\n  // TODO\n});\n\nfunction reducer(\n  state: Partial<State>,\n  action: Action,\n) {\n  return {\n    ...state,\n    [action.type]: action.payload,\n  };\n}\n\nexport function useMethodState(\n  editor: Editor | null,\n  node: Node,\n) {\n  const [methodState, dispatch] = useReducer(reducer, initialState(node));\n  const [additionalMethodNames, setAdditionalMethodNames] = useState<string[]>([]);\n\n  const methodNames = useMemo(\n    () => Object.keys(methodState) as (keyof State)[],\n    [methodState],\n  );\n\n  useEffect(() => {\n    if (editor) {\n      const notInMethodNames = Object\n        .keys(editor)\n        .filter(key => typeof editor[key as keyof Editor] === 'function' && !(key in methodState));\n\n      notInMethodNames.sort();\n\n      setAdditionalMethodNames(notInMethodNames);\n    }\n  }, [editor, methodState]);\n\n  return {\n    additionalMethodNames,\n    dispatch,\n    methodNames,\n    methodState,\n  };\n}","import {\n  Node as SlateNode,\n  NodeJSON,\n  Value,\n} from 'slate';\n\nexport type Node = {\n  isSelected: boolean,\n  nodes?: Node[],\n  path: number[],\n  _slateNode: SlateNode\n} & NodeJSON;\n\n/**\n * Transform a Slate node tree into a data model.\n */\nexport function nodeTree(\n  node: SlateNode,\n  selectedKeys: string[],\n  path: number[],\n): Node {\n  if (node.object === 'text') {\n    return {\n      key: node.key,\n      path,\n      isSelected: selectedKeys.indexOf(node.key) > -1,\n      object: node.object,\n      _slateNode: node,\n    };\n  }\n\n  const childNodes = node.nodes.toArray().map(\n    (child, i) => nodeTree(child, selectedKeys, [...path, i]),\n  );\n\n  return {\n    key: node.key,\n    path,\n    ...node.toJSON() as any,\n    isSelected: childNodes.every(childNodes => childNodes.isSelected),\n    nodes: childNodes,\n    _slateNode: node,\n  };\n}\n\n/**\n * Get an iterable that yields selected text nodes.\n * @param value\n */\nexport function* selectedTextNodes(value: Value): IterableIterator<SlateNode> {\n  const stack: SlateNode[] = [value.document];\n\n  let isInSelection = false;\n\n  while (stack.length > 0) {\n    const node = stack.shift()!;\n\n    if (node.key === value.selection.start.key) {\n      isInSelection = true;\n    }\n\n    if (node.object !== 'text') {\n      stack.unshift(...node.nodes.toArray());\n    }\n    else if (isInSelection) {\n      yield node;\n    }\n\n    if (node.key === value.selection.end.key) {\n      isInSelection = false;\n    }\n  }\n}","import { useState } from 'react';\nimport { Value } from 'slate';\n\nconst initialValue: Value = Value.fromJS({\n  document: {\n    nodes: [\n      {\n        nodes: [\n          {\n            nodes: [\n              {\n                object: 'text',\n                text: 'Block A1',\n              },\n            ],\n            object: 'block',\n            type: 'paragraph',\n          },\n          {\n            nodes: [\n              {\n                object: 'text',\n                text: 'Block A2',\n              },\n            ],\n            object: 'block',\n            type: 'paragraph',\n          }\n        ],\n        object: 'block',\n        type: 'div',\n      },\n      {\n        nodes: [\n          {\n            object: 'text',\n            text: 'Block B',\n          },\n        ],\n        object: 'block',\n        type: 'paragraph',\n      },\n      {\n        nodes: [\n          {\n            object: 'text',\n            text: 'Block C'\n          },\n        ],\n        object: 'block',\n        type: 'paragraph',\n      }\n    ]\n  }\n});\n\nexport function useValue() {\n  const [value, setValue] = useState(initialValue);\n  return {\n    initialValue,\n    setValue,\n    value,\n  }\n}","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Editor, OnChangeParam } from 'slate-react';\nimport { Node as SlateNode } from 'slate';\nimport { List } from 'immutable';\nimport { Document, Selection } from '.';\nimport { useFilter } from '../data/filter';\nimport { Action, useMethodState, State } from '../data/methods';\nimport { useDocument } from '../data/node';\nimport { useValue } from '../data/value';\n\nfunction onClick<M extends keyof State>(\n  editor: Editor | null,\n  method: M,\n  ...args: State[M]\n) {\n  return function doOnClick() {\n    console.log(...args);\n    (editor?.[method] as any)(...args);\n    editor?.focus();\n  }\n}\n\nfunction stringifyArgs(args: unknown[]) {\n  return args.map(\n    a =>\n      typeof a === 'string' ? `'${a}'`\n      : typeof a === 'number' ? a\n      : a instanceof List ? `List([${(a as any).toArray()}])`\n      : typeof a === 'object' ? '[selected node]'\n      : String(a)\n  ).join(', ');\n}\n\nconst App: React.FC = () => {\n  const editorRef = useRef<Editor>(null);\n\n  const { initialValue, setValue, value } = useValue();\n  const [filterBy, setFilterBy] = useState('');\n\n  const { documentNode, selectedNodes } = useDocument(value);\n\n  const {\n    additionalMethodNames,\n    dispatch,\n    methodNames,\n    methodState,\n  } = useMethodState(editorRef.current, selectedNodes[0]);\n\n  const filteredAdditionalMethodNames = useFilter(\n    additionalMethodNames,\n    filterBy\n  );\n\n  const filteredMethodNames = useFilter(\n    methodNames,\n    filterBy\n  );\n\n  const onSelect = useCallback((node: SlateNode) => {\n    editorRef.current!.moveAnchorToStartOfNode(node);\n    editorRef.current!.moveFocusToEndOfNode(node);\n\n    editorRef.current!.focus();\n  }, []);\n\n  useEffect(() => {\n    editorRef.current?.focus();\n  }, []);\n\n  return (\n    <div className=\"c_app\">\n      <h1>SlateJS (0.47x) Playground</h1>\n\n      <div className=\"row\">\n        <Editor\n          className=\"c_editor\"\n          onChange={({ value }: OnChangeParam) => {\n            setValue(value);\n          }}\n          ref={editorRef}\n          value={value}\n        />\n        <button onClick={() => {\n          setValue(initialValue);\n        }}>Reset</button>\n      </div>\n\n      <div className=\"row\">\n        <Selection\n          selection={value.selection}\n        />\n\n        <Document\n          onSelect={onSelect}\n          node={documentNode}\n        />\n\n        <div className=\"c_controls\">\n          <h2>Editor Methods</h2>\n          <input\n            className=\"c_filter\"\n            onChange={({ currentTarget }) => setFilterBy(currentTarget.value)}\n            placeholder=\"Filter...\"\n            value={filterBy}\n          />\n          <div className=\"scroll\">\n            {\n              filteredMethodNames.map(key => {\n                const args = methodState[key]!;\n\n                return (\n                  <div className=\"c_control\" key={key}>\n                    {\n                      (args as unknown[]).map((arg, i) => {\n                        if (arg instanceof List) {\n                          arg = (arg as any).toArray().join(',');\n                        }\n\n                        return typeof arg === 'string' || typeof arg === 'number' ? (\n                          <input\n                            key={i}\n                            onChange={({ currentTarget }) => {\n                              const payload = args.slice();\n\n                              const argValue = typeof payload[i] === 'number'\n                                ? isNaN(Number(currentTarget.value)) ? payload[i] : Number(currentTarget.value)\n                                : payload[i] instanceof List ? List([1, 1, 1]) : currentTarget.value;\n\n                              payload[i] = argValue;\n\n                              const action = {\n                                type: key,\n                                payload,\n                              } as Action;\n\n                              dispatch(action);\n                            }}\n                            value={arg}\n                          />\n                        ) : null\n                      })\n                    }\n                    <button\n                      onClick={onClick(editorRef.current!, key as keyof State, ...args)}\n                    >{key}({stringifyArgs(args)})\n                  </button>\n                  </div>\n                )\n              })\n            }\n\n            <h2>TODO: Additional Methods</h2>\n            <ul className=\"c_additional-methods\">\n              {\n                filteredAdditionalMethodNames\n                  .map(method => <li key={method}>{method}</li>)\n              }\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { useMemo } from 'react';\nimport { Value } from 'slate';\nimport { nodeTree, selectedTextNodes } from './utils';\n\nexport function useDocument(\n  value: Value,\n) {\n  return useMemo(\n    () => {\n      const selectedNodes = Array.from(selectedTextNodes(value));\n      const selectedTextKeys = selectedNodes.map(n => n.key);\n\n      return {\n        documentNode: nodeTree(value.document, selectedTextKeys, []),\n        selectedNodes,\n      };\n    },\n    [value]\n  );\n}","import React from 'react';\nimport { Node as SlateNode } from 'slate';\nimport { Node } from '.';\nimport { Node as DataNode } from '../data/utils';\n\nexport interface DocumentProps {\n  node: DataNode;\n  onSelect: (node: SlateNode) => void;\n}\n\nconst Document: React.FC<DocumentProps> = ({\n  node,\n  onSelect,\n}) => {\n  return (\n    <div className=\"c_document\">\n      <h2>Document</h2>\n      <div className=\"scroll\">\n        <Node\n          onSelect={onSelect}\n          node={node}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Document;","import React from 'react';\nimport { Node as SlateNode } from 'slate';\nimport { Node as DataNode } from '../data/utils';\n\nexport interface NodeProps {\n  node: DataNode,\n  onSelect: (node: SlateNode) => void,\n}\n\nconst Node: React.FC<NodeProps> = ({\n  node,\n  onSelect,\n}) => {\n  const {\n    _slateNode,\n    isSelected,\n    nodes = [],\n    ...rest\n  } = node;\n  const nodeStr = JSON.stringify(rest, undefined, 2);\n\n  return (\n    <pre\n      className={`c_node${node.isSelected ? ' selected' : ''}`}\n      onClick={event => {\n        event.stopPropagation();\n        onSelect(node._slateNode);\n      }}\n    >\n      {\n        node.object === 'text'\n          ? nodeStr.replace(/}$/, '},')\n          : nodeStr.replace(/\\n}$/, ',\\n  \"nodes\": [')\n      }\n      <pre className=\"c_node-list\">\n        {\n          nodes.map(child => (\n            <React.Fragment\n              key={child.key}\n            >\n              <Node\n                onSelect={onSelect}\n                node={child}\n              />\n            </React.Fragment>\n          ))\n        }\n      </pre>\n      { node.object !== 'text' && '  ]\\n}' }\n    </pre>\n  );\n}\n\nexport default Node;","import React from 'react';\nimport { Selection as SlateSelection } from 'slate';\n\nexport interface SelectionProps {\n  selection: SlateSelection;\n}\n\nconst Selection: React.FC<SelectionProps> = ({\n  selection,\n}) => {\n  const selectionJson = selection.toJS();\n\n  selectionJson.anchor = {\n    key: selection.anchor.key,\n    ...selectionJson.anchor,\n  };\n\n  selectionJson.focus = {\n    key: selection.focus.key,\n    ...selectionJson.focus,\n  };\n\n  return (\n    <div className=\"c_selection\">\n      <h2>Selection</h2>\n      <pre>\n        {\n          JSON.stringify(selectionJson, undefined, 2)\n        }\n      </pre>\n    </div>\n  );\n}\n\nexport default Selection;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'typeface-open-sans';\nimport './index.scss';\nimport { App } from './components';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}